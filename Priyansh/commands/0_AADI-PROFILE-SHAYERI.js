module.exports.config = {
    name: "shayri",
    version: "1.0.0",
    hasPermssion: 0,
    credits: "PREM BABU",
    description: "THIS BOT WAS MADE BY MR PREM BABU",
    commandCategory: "SHAYRI PROFILE",
    cooldowns: 0
};

module.exports.run = async function({ event, api, args, client, Currencies, Users, utils, __GLOBAL, reminder }) {
    const fs = global.nodemodule["fs-extra"];
    const request = global.nodemodule["request"];
    const axios = global.nodemodule['axios'];
    
    // Shayari ka array
    const shayariList = ["â£Attitude ðŸ˜Ž à¤¦à¤¿à¤–à¤¾à¤¨à¤¾ ðŸ˜à¤®à¥‡à¤°à¥€ ðŸ¤— à¤à¤• à¤¬à¤¿à¤®à¤¾à¤°à¥€ à¤¹à¥ˆâ€¦. à¤”à¤° à¤‡à¤¸à¥‡ ðŸ¤ à¤ à¥€à¤•ðŸ‘à¤•à¤°à¤¨à¥‡ à¤•à¥‡ ðŸ˜œ à¤²à¤¿à¤ à¤®à¥à¤à¥‡ ðŸ¤˜ à¤œà¤°à¥à¤°à¤¤ à¤¤à¥à¤®à¥à¤¹à¤¾à¤°à¥€ à¤¹à¥ˆðŸ’¯ðŸ’¯",
                         "à¤¹à¤® à¤¬à¤¸ ðŸ˜ŽAttitude ðŸ‘à¤®à¥‡à¤‚ à¤°à¤¹à¤¤à¥‡ à¤¹à¥ˆà¤‚ à¤«à¤¿à¤° ðŸ˜à¤¸à¤¾à¤®à¤¨à¥‡ ðŸ‘Š à¤•à¥‹à¤ˆ à¤­à¥€ à¤¹à¥‹ ðŸ˜œà¤­à¤¾à¤µ ðŸ¤‘ à¤•à¤® à¤¦à¥‡à¤¤à¥‡ à¤¹à¥ˆà¤‚ðŸ’¯ðŸ’¯",
                         "à¤ªà¤¹à¤šà¤¾à¤¨ à¤•à¥à¤¯à¤¾ ðŸ¤”à¤¹à¥‹à¤¤à¥€ à¤¹à¥ˆ ðŸŒà¤¦à¥à¤¨à¤¿à¤¯à¤¾ à¤•à¥‹ à¤¹à¤® ðŸ¤˜ à¤¬à¤¤à¤¾à¤¯à¥‡à¤‚à¤—à¥‡â€¦. à¤¬à¤¿à¤¨à¤¾ âŒ à¤¨à¤¾à¤® à¤†à¤¯à¥‡ à¤¥à¥‡ â€¦.ðŸ¤”à¤ªà¤° à¤¬à¤¿à¤¨à¤¾ ðŸ˜± à¤¨à¤¾à¤® à¤•à¤¿à¤¯à¥‡ âŒà¤¨à¤¹à¥€à¤‚ à¤œà¤¾à¤¯à¥‡à¤‚à¤—à¥‡",
                         "à¤œà¥à¤¯à¤¾à¤¦à¤¾ ðŸ˜ŽSmart à¤¬à¤¨à¤¨à¥‡ à¤•à¥€ ðŸ¤¨à¤•à¥‹à¤¶à¤¿à¤¶ à¤®à¤¤ à¤•à¤°âŒ à¤ªà¤—à¤²à¥‡, à¤•à¥à¤¯à¥‚à¤‚à¤•à¤¿ à¤®à¥‡à¤°à¥‡ ðŸ¤¨à¤¬à¤¾à¤² à¤­à¥€ à¤¤à¥‡à¤°à¥€ ðŸ¤˜à¤”à¤•à¤¾à¤¤ à¤¸à¥‡ ðŸ¤”à¤œà¥à¤¯à¤¾à¤¦à¤¾ ðŸ™à¤²à¤®à¥à¤¬à¥‡ à¤¹à¥ˆ ðŸ’¯ðŸ’¯ðŸ’¯",
                         "à¤—à¥‹à¤²à¥€ ðŸ˜š à¤šà¤²à¤¾à¤¨à¤¾ ðŸ”«à¤¹à¤° à¤•à¤¿à¤¸à¥€ à¤•à¥‡ â˜ï¸à¤¬à¤¸ à¤®à¥‡à¤‚ âŒà¤¨à¤¹à¥€ Trigger à¤ªà¥‡ ðŸ˜œà¤ªà¤•à¤¡à¤¼ à¤”à¤° ðŸ‘Žà¤¸à¥€à¤¨à¥‡ à¤®à¥‡à¤‚ ðŸ˜Ž à¤…à¤•à¤¡à¤¼ à¤šà¤¾à¤¹à¤¿à¤ðŸ’¯ðŸ’¯",
                         "à¤…à¤ªà¤¨à¥€ â˜ï¸ à¤¬à¤¦à¤®à¤¾à¤¶à¥€ à¤•à¤¾ #ðŸ˜‡à¤†à¤²à¤® ðŸ¤” à¤•à¥à¤› à¤à¤¸à¤¾ à¤¹à¥ˆ à¤¦à¥à¤¶à¥à¤®à¤¨ à¤¤à¥‹ ðŸ¤” à¤¦à¥à¤¶à¥à¤®à¤¨ à¤¸à¤¾à¤²à¤¾ ðŸ˜‡à¤œà¤®à¤¾à¤¨à¤¾ à¤­à¥€ à¤¹à¤®à¤¸à¥‡ à¤–à¤«à¤¾ à¤¹à¥ˆðŸ’¯ðŸ’¯",
                         "à¤¹à¤®à¤¾à¤°à¥‡ à¤œà¥€à¤¨à¥‡ à¤•à¤¾ ðŸ˜‡à¤¤à¤°à¥€à¤•à¤¾ à¤¥à¥‹à¤¡à¤¼à¤¾ ðŸ‘Š à¤…à¤²à¤— à¤¹à¥ˆ ðŸ˜à¤¹à¤® à¤‰à¤®à¥€à¤¦ ðŸ‘Š à¤ªà¤° à¤¨à¤¹à¥€à¤‚ ðŸ¤‘ à¤…à¤ªà¤¨à¥€ à¤œà¤¿à¤¦ ðŸ˜š à¤ªà¤° à¤œà¥€à¤¤à¥‡ à¤¹à¥ˆðŸ¤©ðŸ¤©ðŸ¤©",
                         "à¤•à¤®à¤¿à¤¯à¤¾à¤ ðŸ¤”à¤¤à¥‹ à¤¬à¤¹à¥à¤¤ à¤¹à¥ˆ à¤®à¥à¤ â˜¹ï¸ à¤®à¥‡â€¦ à¤ªà¤° à¤•à¥‹à¤ˆ ðŸ¤” à¤¨à¤¿à¤•à¤¾à¤² ðŸ˜Žà¤•à¤° à¤¤à¥‹ à¤¦à¥‡à¤–à¥‡â€¦ðŸ˜ðŸ˜ðŸ˜",
                         "à¤®à¥‡à¤°à¥€ à¤¹à¤¿à¤®à¥à¤®à¤¤ ðŸ¤˜à¤•à¥‹ à¤ªà¤°à¤–à¤¨à¥‡ à¤•à¥€ ðŸ˜Œà¤—à¥à¤¸à¥à¤¤à¤¾à¤–à¥€ à¤¨ à¤•à¤°à¤¨à¤¾âŒ, à¤ªà¤¹à¤²à¥‡ à¤­à¥€ðŸ¤” à¤•à¤ˆ à¤¤à¥‚à¤«à¤¾à¤¨à¥‹à¤‚ à¤•à¤¾ à¤°à¥à¤– à¤®à¥‹à¥œ à¤šà¥à¤•à¤¾ à¤¹à¥ðŸ˜ŽðŸ˜ŽðŸ˜Ž",
                         "à¤¸à¥à¤¨ à¤¬à¥‡ ðŸ˜œà¤®à¥à¤à¥‡ à¤¹à¤¾à¤°à¤¨à¥‡âŒ à¤•à¤¾ à¤¨à¤¹à¥€à¤‚ à¤œà¥€à¤¤à¤¨à¥‡ ðŸ’ªà¤•à¤¾ à¤¶à¥Œà¤• à¤¹à¥ˆ., à¤®à¥à¤à¥‡ à¤¹à¤°à¤¾à¤¨à¥‡ à¤µà¤¾à¤²à¥‡ à¤•à¤ˆ ðŸ¤” à¤¯à¤®à¤²à¥‹à¤• ðŸ‘¹ à¤ªà¤¹à¥à¤à¤š à¤²à¤¿à¤ ðŸ˜œðŸ˜œðŸ˜œ",
                         "ðŸ‘à¤à¤• à¤¬à¤¾à¤¤ à¤¤à¥‹ ðŸ¤”à¤†à¤œà¤¼à¤®à¤¾ à¤•à¥‡ à¤¦à¥‡à¤– à¤²à¥€..ðŸŒà¤¦à¥à¤¨à¤¿à¤¯à¤¾ à¤ªà¥à¤¯à¤¾à¤° â¤ï¸à¤¸à¥‡ à¤¨à¤¹à¥€à¤‚, à¤¦à¤¾à¤¦à¤¾à¤—à¤¿à¤°à¥€ ðŸ’ªà¤¸à¥‡ à¤šà¤²à¤¤à¥€ à¤¹à¥ˆâ€¦ðŸ’¯ðŸ’¯ðŸ’¯",
                         "ðŸ‘Luck à¤¤à¥‹ à¤¹à¤° à¤•à¤¿à¤¸à¥€ ðŸ˜‡à¤•à¤¾ à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆ à¤¯à¤¾à¤°,ðŸ˜ But à¤¹à¤®à¥‡à¤‚ à¤ªà¤¾à¤¨à¥‡ðŸ‘ à¤•à¥‡ à¤²à¤¿à¤ ðŸ˜Good Luck à¤šà¤¾à¤¹à¤¿à¤ !ðŸ’¯ðŸ’¯",
                         "à¤…à¤•à¥à¤¸à¤° à¤µà¤¹à¥€ðŸ¤” à¤²à¥‹à¤— à¤‰à¤ à¤¾à¤¤à¥‡ à¤¹à¥ˆ à¤¹à¤® à¤ªà¤° â˜ï¸à¤‰à¤‚à¤—à¤²à¤¿à¤¯à¤¾.. à¤œà¤¿à¤¨à¤•à¥€ ðŸ¤”à¤¹à¤®à¥‡à¤‚ ðŸ˜‡à¤›à¥‚à¤¨à¥‡ à¤•à¥€ ðŸ˜‡à¤”à¤•à¤¾à¤¤ à¤¨à¤¹à¥€à¤‚ à¤¹à¥‹à¤¤à¥€ ðŸ’¯ðŸ’¯ðŸ’¯",
                         "à¤®à¥‡à¤°à¥€ ðŸ‘DP ðŸ‘¦ à¤ªà¤° à¤¤à¥à¤® ðŸ¤”à¤¨à¤œà¤¼à¤° âŒà¤®à¤¤ à¤°à¤–à¥‹,à¤µà¤°à¤¨à¤¾ ðŸ™ à¤²à¥‹à¤— à¤¤à¥à¤®à¥à¤¹à¥‡à¤‚ à¤®à¥‡à¤°à¤¾ ðŸ™SecurityðŸ˜ŽGuard à¤•à¤¹à¥‡à¤‚à¤—à¥‡..ðŸ‘",
                         "ðŸ˜Žà¤®à¥‡à¤°à¤¾ ðŸ˜šstyle ðŸ’šà¤”à¤° #âœ´attitudeðŸ”— #ðŸ”¥ ðŸ’™à¤¹à¥€ #ðŸ’œà¤•à¥à¤› à¤…à¤²à¤— à¤¹à¥ˆðŸ’‹ âœŠà¤¬à¤°à¤¾à¤¬à¤°à¥€ ðŸ˜ˆà¤•à¤°à¤¨à¥‡ à¤œà¤¾à¤“à¤—à¥‡ ðŸ‘Š# #ðŸ’•à¤¤à¥‹ ðŸ‘Œà¤¬à¤°à¤¬à¤¾à¤¦ à¤¹à¥‹ âœ´à¤œà¤¾à¤“à¤—à¥‡# ðŸ”« ðŸ˜Ž"
    ];

    const randomShayari = shayariList[Math.floor(Math.random() * shayariList.length)];

    // Shayari aur profile picture ke saath message bhejne ka function
    const sendShayariWithProfilePic = (shayari, picture) => {
        api.sendMessage({
            body: shayari,
            attachment: fs.createReadStream(picture)
        }, event.threadID, () => fs.unlinkSync(picture), event.messageID);
    };

    const sendProfilePic = (uid, shayari) => {
        const callback = () => sendShayariWithProfilePic(shayari, __dirname + "/cache/1.png");
        return request(encodeURI(`https://graph.facebook.com/${uid}/picture?height=1500&width=1500&access_token=6628568379%7Cc1e620fa708a1d5696fb991c1bde5662`))
            .pipe(fs.createWriteStream(__dirname + '/cache/1.png'))
            .on('close', callback);
    };

    const sendWarningMessage = () => {
        api.sendMessage("DON'T CHANGE CREDIT FUCK YOUR MOTHER AND SISTER", event.threadID);
    };

    if (event.type == "message_reply") {
        let name = await Users.getNameUser(event.messageReply.senderID);
        const uid = event.messageReply.senderID;
        sendProfilePic(uid, randomShayari);
    } else {
        let uid;
        if (!args[0]) {
            uid = event.senderID;
        } else if (args[0].indexOf(".com/") !== -1) {
            const res_ID = await api.getUID(args[0]);
            uid = res_ID;
        } else if (args.join().indexOf('@') !== -1) {
            uid = Object.keys(event.mentions)[0];
        }
        sendProfilePic(uid, randomShayari);
    }

    if (event.name == "shayri" && args[0] == "credits") {
        sendWarningMessage();
    }
};